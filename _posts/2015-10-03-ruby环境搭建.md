---
layout: post
title: ruby环境搭建
date: 2015-10-03 
tag: Linux
---

下载<a href="http://ruby-china.org/wiki/ruby-mirror" target="_balck">ruby</a>安装包

### 安装开发工具

命令

`yum groupinstall "Development tools"`

清理已安装过的

`yum erase ruby ruby-libs ruby-mode ruby-rdoc ruby-irb ruby-ri ruby-docs`

### 安装依赖

`yum -y install zlib-devel curl-devel openssl-devel httpd-devel apr-devel apr-util-devel mysql-devel`

### 安装ruby

新建目录并解压

> mkdir -p /usr/local/ruby  <br />
> cd /usr/local/ruby <br />
> tar -zxvf ruby-2.3.0.tar.gz -C /usr/local/ruby

进入ruby-2.3.0目录下，依次执行下面命令

> ./configure -prefix=/usr/local/ruby  <br />
> make <br />
> make install <br />

查看ruby信息

`ruby -v`

### 安装Bundler Gem

由于AWS被墙无法使用，修改ruby的源为淘宝

```
gem sources --remove https://rubygems.org/
gem sources -a https://ruby.taobao.org/
gem sources -l
gem install bundler --no-doc
```

添加以下软连接，否则可能提示找不到

```
ln -s /usr/local/bin/ruby /usr/bin/ruby  
ln -s /usr/local/bin/gem /usr/bin/gem  
ln -s /usr/local/bin/bundle /usr/bin/bundle  
```

### 查看验证

```
[root@test81 ~]# which ruby
#/usr/local/bin/ruby
[root@test81 ~]# which gem
#/usr/local/bin/gem
[root@test81 ~]# which bundle
#/usr/local/bin/bundle
[root@test81 ~]# ruby -v
#ruby 2.1.7p400 (2015-08-18 revision 51632) [x86_64-linux]

```
